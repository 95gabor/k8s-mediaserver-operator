# Default values for k8s-mediaserver.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
#
# Note: This umbrella chart only contains overrides and service-specific configurations.
# For complete documentation of all available values for each service chart, see:
# - charts/sonarr/values.yaml
# - charts/radarr/values.yaml
# - charts/jackett/values.yaml
# - charts/prowlarr/values.yaml
# - charts/transmission/values.yaml
# - charts/sabnzbd/values.yaml
# - charts/plex/values.yaml
# - charts/jellyfin/values.yaml
# - charts/seerr/values.yaml
#
# Or view the README files in each chart directory for detailed documentation.

general:
  ingress_host: k8s-mediaserver.k8s.test
  plex_ingress_host: k8s-plex.k8s.test
  jellyfin_ingress_host: k8s-jelly.k8s.test
  podDistribution: cluster # can be "spread" or "cluster"
  initContainer:
    # https://hub.docker.com/_/ubuntu/tags
    image: docker.io/ubuntu
    tag: 24.04
    # Set to false if cluster enforces non-root policy
    # Note: When false, init container cannot chown root-owned files
    # fsGroup will handle group ownership automatically
    runAsRoot: true
  # Persistent storage selections and pathing
  storage:
    customVolume: false # set to true if not using a PVC (must provide volume below)
    pvcName: mediaserver-pvc
    accessMode: ""
    size: 5Gi
    pvcStorageClass: ""
    # the path starting from the top level of the pv you're passing. If your share is server.local/share/, then tv is server.local/share/media/tv
    subPaths:
      tv: media/tv
      movies: media/movies
      downloads: downloads
      transmission: transmission
      sabnzbd: sabnzbd
      config: config
    volumes: {}
    #  hostPath:
    #    path: /mnt/share
  ingress:
    ingressClassName: ""
  nodeSelector: {}
  # tolerations:
  # - key: "node-role.kubernetes.io/control-plane"
  #   operator: "Exists"
  #   effect: "NoSchedule"
  # TLS certificate configuration via cert-manager
  certificate:
    enabled: false
    secretName: k8s-mediaserver-tls
    domain: plex.example.com
    additionalHosts:
      - plex.example.com
      - sonarr.example.com
      - radarr.example.com
    duration: ""
    renewBefore: ""
    issuer:
      group: ""
      kind: ""
      name: ""
    privateKey:
      rotationPolicy: Never
      encoding: PKCS1
      algorithm: RSA
      size: 2048
    keystores:
      pkcs12:
        create: true
        passwordSecretRef:
          key: password
          name: cert-password
    annotations: {}
    usages: []

sonarr:
  enabled: true

radarr:
  enabled: true

jackett:
  enabled: true

transmission:
  enabled: true

sabnzbd:
  enabled: true

prowlarr:
  enabled: true

plex:
  enabled: true
  # Plex specific configuration
  claim: "CHANGEME"
  externalSecret: null
  replicaCount: 1
  general:
    plex_ingress_host: k8s-plex.k8s.test
    certificate:
      enabled: false
      secretName: k8s-mediaserver-tls

jellyfin:
  enabled: false
  # Jellyfin specific configuration
  replicaCount: 1
  general:
    jellyfin_ingress_host: k8s-jelly.k8s.test

seerr:
  enabled: true
